
<!DOCTYPE html>
<html lang="de">
<head>
  <meta charset="utf-8" />
  <meta http-equiv="X-UA-Compatible" content="IE=edge" />
  <meta name="HandheldFriendly" content="True" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <meta name="robots" content="index, follow" />

  <link href="https://fonts.googleapis.com/css2?family=Source+Code+Pro:ital,wght@0,400;0,700;1,400&family=Source+Sans+Pro:ital,wght@0,300;0,400;0,700;1,400&display=swap" rel="stylesheet">

    <link rel="stylesheet/less" type="text/css" href="/theme/stylesheet/style.less">
    <script src="//cdnjs.cloudflare.com/ajax/libs/less.js/2.5.1/less.min.js" type="text/javascript"></script>

    <link id="dark-theme-style" rel="stylesheet" type="text/css"
          media="(prefers-color-scheme: dark), (prefers-color-scheme: no-preference)"
    href="/theme/stylesheet/dark-theme.min.css">

    <link id="pygments-dark-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: dark), (prefers-color-scheme: no-preference)"
          href="/theme/pygments/monokai.min.css">
    <link id="pygments-light-theme" rel="stylesheet" type="text/css"
              media="(prefers-color-scheme: light)"
          href="/theme/pygments/monokai.min.css">



  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/fontawesome.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/brands.css">
  <link rel="stylesheet" type="text/css" href="/theme/font-awesome/css/solid.css">



  <!-- Chrome, Firefox OS and Opera -->
  <meta name="theme-color" content="#333333">
  <!-- Windows Phone -->
  <meta name="msapplication-navbutton-color" content="#333333">
  <!-- iOS Safari -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black-translucent">
  <!-- Microsoft EDGE -->
  <meta name="msapplication-TileColor" content="#333333">

  <link href="/feeds/all.atom.xml" type="application/atom+xml" rel="alternate" title="fabse-hack Atom">








 

<meta name="author" content="fabse" />
<meta name="description" content="ESP-Robot project is a budget-friendly robotics using Micropython and Lego components, including an ESP32 S3 board. It&#39;s designed for self-driving and modularity for creative robot construction." />
<meta name="keywords" content="Micropython">


  <meta property="og:site_name" content="fabse-hack"/>
  <meta property="og:title" content="ESP-Robot"/>
  <meta property="og:description" content="ESP-Robot project is a budget-friendly robotics using Micropython and Lego components, including an ESP32 S3 board. It&#39;s designed for self-driving and modularity for creative robot construction."/>
  <meta property="og:locale" content="en_US"/>
  <meta property="og:url" content="/esp-robot.html"/>
  <meta property="og:type" content="article"/>
  <meta property="article:published_time" content="2023-10-08 00:00:00+02:00"/>
  <meta property="article:modified_time" content=""/>
  <meta property="article:author" content="/author/fabse.html">
  <meta property="article:section" content="Projects"/>
  <meta property="article:tag" content="Micropython"/>
  <meta property="og:image" content="">

  <title>fabse-hack &ndash; ESP-Robot</title>


</head>
<body >

<aside>
  <div>
    <a href="/">
      <img src="/theme/img/profile.png" alt="fabse hack" title="fabse hack">
    </a>

    <h1>
      <a href="/">fabse hack</a>
    </h1>

    <p>welcome to fabse hack website</p>


    <nav>
      <ul class="list">


            <li>
              <a target="_self"
                 href="/pages/about-me.html">
                About Me
              </a>
            </li>

          <li>
            <a target="_self" href="https://fabse-hack.github.io/" >Blog</a>
          </li>
          <li>
            <a target="_self" href="https://fabse-hack.github.io/" >Testing</a>
          </li>
      </ul>
    </nav>

    <ul class="social">
      <li>
        <a class="sc-github"
           href="https://github.com/fabse-hack"
           target="_blank">
          <i class="fa-brands fa-github"></i>
        </a>
      </li>
      <li>
        <a class="sc-youtube"
           href="https://youtube.com/fabse-hack"
           target="_blank">
          <i class="fa-brands fa-youtube"></i>
        </a>
      </li>
      <li>
        <a class="sc-circle-t"
           href="https://www.thingiverse.com/fabse-hack/designs"
           target="_blank">
          <i class="fa-brands fa-circle-t"></i>
        </a>
      </li>
      <li>
        <a class="sc-rss"
           href="/blog/feeds/all.atom.xml"
           target="_blank">
          <i class="fa-solid fa-rss"></i>
        </a>
      </li>
    </ul>
  </div>

</aside>
  <main>

<nav>
  <a href="/">Home</a>

  <a href="/archives.html">Archives</a>
  <a href="/categories.html">Categories</a>
  <a href="/tags.html">Tags</a>

  <a href="/feeds/all.atom.xml">Atom</a>

</nav>

<article class="single">
  <header>
      
    <h1 id="esp-robot">ESP-Robot</h1>
    <p>
      Posted by fabse on 08 October 2023 in <a href="/category/projects.html">Projects</a>
    
    </p>
    
     
  </header>


  <div>
    <h1>Welcome to ESP-Robot written in Micropython</h1>
<hr>
<h2>Requirements specification:</h2>
<ul>
<li><a href="#welcome-to-esp-robot-written-in-micropython">Welcome to ESP-Robot written in Micropython</a></li>
<li><a href="#requirements-specification">Requirements specification:</a></li>
<li><a href="#1-overview">1. Overview</a></li>
<li><a href="#2-wiring">2. Wiring</a></li>
<li><a href="#3-lego-chassis">3. Lego Chassis</a></li>
<li><a href="#4-lego-dc-motors">4. Lego DC Motors</a></li>
<li><a href="#5-main-hardware">5. Main Hardware</a></li>
<li><a href="#6-sensors">6. Sensors</a></li>
<li><a href="#7-light">7. Light</a></li>
<li><a href="#8-sound">8. Sound</a></li>
<li><a href="#9-display">9. Display</a></li>
<li><a href="#10-the-programm">10. the PROGRAMM</a></li>
<li><a href="#11-esp-robot-self-driving-logic">11. ESP Robot Self-Driving Logic</a></li>
<li><a href="#12-to-dos-and-planning-for-the-next-version">12. To-Do's and planning for the next Version:</a></li>
</ul>
<hr>
<p><a name="overview"></a>  </p>
<h2>1. Overview</h2>
<p>The ESP Lego Robot is a low budget project. You will need:
- some Legos (or another chassis)
- Power Bank with PD (Power Delivery Out 9V for the motors)
- 2x ower Function L Motors - both arround 50$ or buy some other brick motors 10$ (or another chassis)
- L298 N Motor Driver-  2,50 $
- ESP32 S3 - arround 20 $
- HC-SR04 Sensor - 3 $
- optional Buzzer and Neopixel LEDs - arround 4 $
- optional Display ili9341 15 $<br>
<strong>basic components together arround 35,50 $</strong><br>
<strong>All together with Buzzer, Neopixel and Display arround 55 $</strong>  </p>
<p><img alt="ESP-Robot" src="/articles/esp-Robot/photos/ESP-Robot-Micropython.png"></p>
<p>This the mp-remote commands for the ESP32 S3 board:<br>
- this command upload the main.py to the micropython board over com11<br>
<code>python.exe -m mpremote connect com11 cp main.py :</code><br>
- this command connects to the python prompt over com11<br>
<code>python.exe -m mpremote connect com11</code>  </p>
<hr>
<p><br>
<a name="wiring"></a></p>
<h2>2. Wiring</h2>
<p>this is the wiring:
{% image "./photos/wiring.png", "wiring" %}
I have also uploaded the frtzing file. The controller is unfortunately a similar ESP32-S2/S3 dev kit. Power Delivery I also have another one built into the plan. I hope the Wiring Plan helps you anyway.</p>
<hr>
<p><br></p>
<h2>3. Lego Chassis</h2>
<p>Yes, there are a lot of chassis on the market, if you look closer, they are only made of sheet metal or fall apart just by looking at them. A modular base is needed - Lego! There is a super tool for Lego, the Studio 2.0. If you have another platform or another chassis, you can build your own robot creation.
The Robot is designed with Studio 2.0, here is the download link:
<a href="https://www.bricklink.com/v3/studio/download.page">Bricklink Studio 2.0</a>  </p>
<p><img alt="Chassis" src="/articles/esp-Robot/Chassis/Robot5.png"></p>
<hr>
<p><br></p>
<p><a name="lego-dc-motors"></a></p>
<h2>4. Lego DC Motors</h2>
<p>For the Lego chassis I choose two DC Power Function L motors. These motors have a four wire connection. I use the 2 wires in the middle, these control the DC motor clockwise / anticlockwise rotation:
Here is the link:
<a href="https://www.bricklink.com/v2/catalog/catalogitem.page?S=88003-1">Lego Power Functions L</a><br>
<strong>Lego Power Function L :</strong><br>
<img alt="Logo" src="/articles/photos/powerfunctionl.png">  </p>
<hr>
<p><br></p>
<p><a name="hardware"></a></p>
<h2>5. Main Hardware</h2>
<p>this is the main hardware from the ESP Robot:
- Microcontroller ESP32 S3
- Motor Controller L298N
- PD-Delivery Board, with 9V for the L298N</p>
<p>ESP32 S3, here i choose ESP32-Leaf-S3 from Banana Pi. I flashed the newest Micropython 1.19 on it. The GPIOs Numbers are direct on the Board.
For more informations visit the website:
<a href="https://wiki.banana-pi.org/BPI-Leaf-S3">ESP32-Leaf-S3</a><br>
<strong>ESP32-Leaf-S3 :</strong><br>
<img alt="Logo" src="/articles/esp-Robot/photos/ESP32-Leaf-S3.png">  </p>
<p>Power delivery circuit, USB-C with 3 DIP-Switches, it's for setting the DC power. The Power Function L Motors need 9 Volt, so i take the 9 Volt setting. <a href="https://de.aliexpress.com/item/1005004874144607.html">here is the link</a><br>
<strong>PD-Delivery Board USB-C :</strong><br>
<img alt="Logo" src="/articles/esp-Robot/photos/USB-CPowerDelivery.png">  </p>
<p>This motor controller can controll 2 DC Motors. Pefect for this project. 9 Volt entry power, with a integrated voltage transformer to 5 Volt. We need 6 signal pins from the ESP32 to it. E1, L1, L2, L3, L4, E2<br>
<strong>L298N Controller :</strong><br>
<img alt="Logo" src="/articles/esp-Robot/photos/L298N.png">  </p>
<hr>
<p><br></p>
<p><a name="sensors"></a></p>
<h2>6. Sensors</h2>
<p>This is the only sensor of the ESP32 Robot. In the future i will add some more to it. By emitting a clicking sound in the ultrasonic range and measuring the delay of the resulting echo, this ultrasonic sensor enables you to determine the distance to an object.<br>
<strong>HC-SR04 - Ultrasonic Sensor :</strong> <br>
<img alt="Logo" src="/articles/esp-Robot/photos/HC-SR04.png">  </p>
<hr>
<p><br></p>
<p><a name="light"></a></p>
<h2>7. Light</h2>
<p>The Robot defentily need some lights. "A robot needs a light to help it see in the dark, just like how humans need a flashlight!"
So the Robot get some wb2812b LEDs, easy to use and found much in the network. The ESP Robot have a 3 LEDs Strip wb2812b. It's nice to have an adressable LED or high power LED or small Lasers. When they have 5V, it's easy to use them with a microcontroller.<br>
<strong>Neopixel WB2812b :</strong><br>
<img alt="Logo" src="/articles/esp-Robot/photos/NeoPixel.png">  </p>
<hr>
<p><br>
<a name="sounds"></a></p>
<h2>8. Sound</h2>
<p>Beeeep, Bep, Sound. It's very easy to you a piezo buzzer for make some R2D2 noises.
Some small piezo buzzer are avaiable in all electronic onlinestores.
THe R2D2 Sound from main.py is mixxed with the Neopixel LEDs, there are in the same coding loop, and then the light looks soundactiv. Look in the main.py for more information about this, i comment a few lines in there.<br>
<strong>Piezo Buzzer :</strong><br>
<img alt="Logo" src="/articles/esp-Robot/photos/Buzzer.png">  </p>
<hr>
<p><br>
<a name="programm"></a></p>
<h2>9. Display</h2>
<p>So the Robot needs a Display, i chosse the ili9341 Touchscreen Display. The touch i not use yet, only the display for show some informations. In this Version 1 the Display shows the Wifi Network IP and the currently Status. The micropython library comes from this github repository <a href="https://github.com/rdagger/micropython-ili9341">rdagger</a><br>
<strong>ili9341 Display :</strong><br>
<img alt="Logo" src="/articles/esp-Robot/photos/ili9341.png"></p>
<hr>
<p><br>
<a name="Display"></a></p>
<h2>10. the PROGRAMM</h2>
<p>Is the heart of the Robot, without, it's can do nothing!
For some months i learned Python, and so i programmed it in Micropython.
I'm not explain here the micropython programm, because i write in the code many comments...<br>
This is the webserver with the touch buttons:
<img alt="Logo" src="/articles/esp-Robot/photos/Touch-Controll-HTML.jpg">  </p>
<hr>
<p><br>
<a name="self-driving"></a></p>
<h2>11. ESP Robot Self-Driving Logic</h2>
<p>What does the ESP Robot do? 
- Forward, &gt;35cm Distance measuring, Stop, Backward, Left or Right, Forward again  </p>
<p><img alt="Logo" src="/articles/esp-Robot/photos/Auto1.gif">  </p>
<hr>
<p><br>
<a name="to-dos"></a></p>
<h2>12. To-Do's and planning for the next Version:</h2>
<ul>
<li>[ ] jetson nano / pi</li>
<li>[ ] new models of the Lego Chassis, there is no end</li>
<li>[ ] Programming it better, there is no end</li>
<li>[ ] add some sensors e.g. ESP-Cam, Cam, one more HC-SR04</li>
<li>[ ] 360° Lidar Sensor with mapping</li>
<li>[ ] new self-driving logic's and algorithms</li>
<li>[ ] Visualization and Photos</li>
<li>[ ] SLAM (Mapping) with 360° Lidar Sensors</li>
<li>[ ] braitenberg-vehikel -&gt; https://de.wikipedia.org/wiki/Braitenberg-Vehikel  </li>
</ul>
<hr>
  </div>
  <div class="tag-cloud">
    <p>
      <a href="/tag/micropython.html">Micropython</a>
    </p>
  </div>






</article>

<footer>
<p>
  &copy; 2023  - This work is licensed under a <a rel="license" href="http://creativecommons.org/licenses/by-sa/4.0/deed.en_US" target="_blank">Creative Commons Attribution-ShareAlike 4.0 International License</a>
</p>
<p>
Built with <a href="http://getpelican.com" target="_blank">Pelican</a> using <a href="http://bit.ly/flex-pelican" target="_blank">Flex</a> theme
  <span class="footer-separator">|</span>
  Switch to the <a href="javascript:void(0)" onclick="theme.switch(`dark`)">dark</a> | <a href="javascript:void(0)" onclick="theme.switch(`light`)">light</a> | <a href="javascript:void(0)" onclick="theme.switch(`browser`)">browser</a> theme
  <script id="dark-theme-script"
          src="/theme/dark-theme/dark-theme.min.js"
          data-enable-auto-detect-theme="True"
          data-default-theme="dark"
          type="text/javascript">
  </script>
</p><p>
  <a rel="license"
     href="http://creativecommons.org/licenses/by-sa/4.0/"
     target="_blank">
    <img alt="Creative Commons License"
         title="Creative Commons License"
         style="border-width:0"
           src="https://i.creativecommons.org/l/by-sa/4.0/80x15.png"
         width="80"
         height="15"/>
  </a>
</p></footer>  </main>

<script type="application/ld+json">
{
  "@context" : "http://schema.org",
  "@type" : "Blog",
  "name": " fabse-hack ",
  "url" : "",
  "image": "",
  "description": ""
}
</script><a href="https://github.com/fabse-hack" target="_blank" class="github-corner" aria-label="View source on Github">
    <svg width="80"
         height="80"
         viewBox="0 0 250 250"
         style="fill:#151513; color:#fff; position: absolute; top: 0; border: 0; right: 0;"
         aria-hidden="true">
        <path d="M0,0 L115,115 L130,115 L142,142 L250,250 L250,0 Z"></path>
        <path d="M128.3,109.0 C113.8,99.7 119.0,89.6 119.0,89.6 C122.0,82.7 120.5,78.6 120.5,78.6 C119.2,72.0 123.4,76.3 123.4,76.3 C127.3,80.9 125.5,87.3 125.5,87.3 C122.9,97.6 130.6,101.9 134.4,103.2"
              fill="currentColor"
              style="transform-origin: 130px 106px;"
              class="octo-arm">
        </path>
        <path d="M115.0,115.0 C114.9,115.1 118.7,116.5 119.8,115.4 L133.7,101.6 C136.9,99.2 139.9,98.4 142.2,98.6 C133.8,88.0 127.5,74.4 143.8,58.0 C148.5,53.4 154.0,51.2 159.7,51.0 C160.3,49.4 163.2,43.6 171.4,40.1 C171.4,40.1 176.1,42.5 178.8,56.2 C183.1,58.6 187.2,61.8 190.9,65.4 C194.5,69.0 197.7,73.2 200.1,77.6 C213.8,80.2 216.3,84.9 216.3,84.9 C212.7,93.1 206.9,96.0 205.4,96.6 C205.1,102.4 203.0,107.8 198.3,112.5 C181.9,128.9 168.3,122.5 157.7,114.1 C157.9,116.9 156.7,120.9 152.7,124.9 L141.0,136.5 C139.8,137.7 141.6,141.9 141.8,141.8 Z"
              fill="currentColor"
              class="octo-body">
        </path>
    </svg>
</a>

</body>
</html>